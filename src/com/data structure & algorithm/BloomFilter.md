## 布隆过滤器 (Bloom Filter)

### 概念

一个名叫Bloom的人提出了一种来检索元素是否在给定大集合中的数据结构，这种数据结构是高效且性能很好的，但缺点是具有一定的错误识别和删除难度。且理论情况下，添加到集合中的元素越多，误报的可能性就越大。

### 原理

当一个元素加入布隆过滤器的时候：

1. 使用布隆过滤器中的哈希函数对元素值进行计算，得到哈希值(有几个哈希函数得到几个哈希值)
2. 根据得到的哈希值，在位数组中把对应下标的值置为1

当需要判断一个元素是否存在于布隆过滤器的时候：

1. 对给定元素再次进行相同的哈希计算
2. 得到值之后判断位数组中的每个元素是否都为1，如果值都为1，那么说明这个值在布隆过滤器中，如果存在一个值不为1，说明该元素不在布隆过滤器中

> 不同的字符串可能哈希出来的位置相同，这种情况我们可以适当增加位数组大小或调整哈希函数
>
> 故BF说某个元素存在，小概率误判，BF说某个元素不在则一定不在

### 使用场景

1. 判断给定数据是否存在：大数据集、防止缓存穿透、垃圾邮件过滤、黑名单等
2. 去重：网站爬虫时对已经爬取过的URL去重