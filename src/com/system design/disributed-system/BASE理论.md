## BASE理论

Base 理论是对CAP中一致性C 和可用性A权衡的结果，其来源于对大规模互联网系统分布式实践的总结，是基于CAP定理逐步演化而来的，它大大降低了我们对系统的要求。BASE理论本质上是对CAP中AP方案的一个补充

+ Basically Available 基本可用
+ Soft-state 软状态
+ Eventually Consistent 最终一致性

### 基本可用

基本可用是指分布式系统在出现不可预知故障的时候，允许损失部分可用性

+ 响应时间上的损失：正常情况下处理请求需要0.5s，由于系统出现故障，处理请求的时间为3s
+ 系统功能上的损失：正常情况下用户可使用系统全部功能，由于系统访问量激增，部分非核心功能不可用

### 软状态

软状态是指允许系统中的数据存在中间状态(CAP理论中的数据不一致)，并认为该中间状态的存在不会影响系统的整体可用性，即允许系统在不同节点的数据副本之间进行数据同步的过程存在延时

### 最终一致性

最终一致性强调的是系统所有的数据副本，在经过一段时间的同步后，最终能够达到一个一致的状态。

> 分布式一致性的三种级别：
>
> 1. 强一致性：系统写入什么，读出来就是什么
> 2. 弱一致性：不一定可以读取到最新写入的值，也不保证多少时间之后读取到的数据是最新的，只是会尽量保证某个时刻达到数据一致的状态
> 3. 最终一致性：弱一致性的升级版，系统会保证在一定时间内达到数据一致的状态